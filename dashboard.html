<!doctype html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Dashboard - KN Conecta</title>

    <link rel="icon" href="/imagens/kn.gif" type="image/gif">

    <link rel="stylesheet" href="/style.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>

<nav id="sidebar">
    <div class="sidebar-header">
        <img src="/imagens/kn.gif" alt="Logo KN Conecta" class="h-10">
        <h1 class="text-xl font-bold">
            <span class="text-white">KN</span><span class="text-[#55B8F2]">Conecta</span>
        </h1>
    </div>

    <div class="tabs-root">
        <button data-page="colaboradores" class="tab-btn active">Colaboradores</button>
        <button data-page="controle-diario" class="tab-btn">Controle Di√°rio</button>
        <button data-page="hc-consolidado" class="tab-btn">Relat√≥rios</button>
        <button data-page="efetivacoes" class="tab-btn">Recursos Humanos</button>
        <button data-page="inclusao-pcd" class="tab-btn">Inclus√£o PCD</button>
        <button data-page="diarista" class="tab-btn">Diarista</button>
        <button data-page="painel-gerencial" class="tab-btn">Painel Gerencial</button>

        <button data-page="farol" class="tab-btn">Painel de Conformidade</button>

        <button data-page="gerotmeli" class="tab-btn">Gerot Meli</button>
        <button data-page="separacao" class="tab-btn">Auditoria</button>
    </div>
</nav>

<div class="container" id="main-content">
    <header class="flex justify-between items-center p-2">

        <div class="flex items-center gap-1">

            <button id="menu-toggle" class="text-[#003369]">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5"
                     stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round"
                          d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"/>
                </svg>
            </button>

            <img src="/imagens/kn.gif" alt="Logo KN Conecta" class="h-10">
            <h1 class="text-xl font-bold" style="text-shadow: 5px 2px 4px rgba(0, 0, 0, 0.1);">
                <span class="text-[#003369]">KN</span><span class="text-[#55B8F2]">Conecta</span>
            </h1>
        </div>

        <div class="flex items-center gap-4">
            <span id="userInfo" class="text-sm text-gray-600 font-semibold">Carregando...</span>
            <img id="userAvatar" src="/imagens/default-avatar.png" alt="Avatar do usu√°rio" class="user-avatar hidden">

            <button id="screenshotBtn"
                    class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-1 px-3 text-xs rounded-full">Tirar
                Print
            </button>
            <button id="logoutBtn"
                    class="bg-red-500 hover:bg-red-600 text-white font-bold py-1 px-3 text-xs rounded-full">Sair
            </button>
        </div>
    </header>

    <main id="content-area" class="flex-grow min-h-0 flex flex-col"></main>
</div>

<div id="matrizModal"
     class="hidden fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50">
    <div class="container !h-auto !w-auto max-w-lg">
        <h3>Registrar Nova Matriz</h3>
        <form id="matrizForm">
            <div class="form-grid" style="grid-template-columns: 1fr;">
                <div class="form-group">
                    <label for="matrizService">SERVICE</label>
                    <input type="text" id="matrizService" required placeholder="Ex: GSA"/>
                </div>
                <div class="form-group">
                    <label for="matrizNome">MATRIZ</label>
                    <input type="text" id="matrizNome" required placeholder="Ex: GSA-FOR"/>
                </div>
            </div>
            <div class="form-actions" style="justify-content:flex-end;">
                <button type="button" class="btn-cancelar" data-close-modal="matrizModal">Cancelar</button>
                <button type="submit" class="btn-salvar">Salvar Matriz</button>
            </div>
        </form>
    </div>
</div>

<div id="editUserModal"
     class="hidden fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50">
    <div class="container !h-auto !w-auto max-w-2xl">
        <h3>Editar Usu√°rio</h3>
        <form id="editUserForm">
            <div class="form-grid">
                <div class="form-group"><label for="editUserNome">Nome Completo</label><input type="text"
                                                                                              id="editUserNome"
                                                                                              required/></div>
                <div class="form-group"><label for="editUserUsuario">Usu√°rio (Login)</label><input type="text"
                                                                                                   id="editUserUsuario"
                                                                                                   required/></div>
                <div class="form-group"><label for="editUserPin">Alterar PIN (deixe em branco para n√£o
                    mudar)</label><input type="password" id="editUserPin" placeholder="Novo PIN de 6 d√≠gitos"
                                         maxlength="6"/></div>
                <div class="form-group"><label for="editUserAprovacao">Status de Aprova√ß√£o</label><select
                        id="editUserAprovacao" required>
                    <option value="SIM">Ativo</option>
                    <option value="PENDENTE">Pendente</option>
                    <option value="BLOQUEADO">Bloqueado</option>
                </select></div>
                <div class="form-group">
                    <label for="editUserTipo">Tipo de Usu√°rio</label>
                    <select id="editUserTipo" required>
                        <option value="JOVEM APRENDIZ">Jovem Aprendiz</option>
                        <option value="ESTAGI√ÅRIO">Estagi√°rio</option>
                        <option value="L√çDER">L√≠der</option>
                        <option value="SHE">SHE</option>
                        <option value="ANALISTA">Analista</option>
                        <option value="RH">RH</option>
                        <option value="COORDENADOR">Coordenador</option>
                        <option value="SUPERVISOR">Supervisor</option>
                        <option value="GERENTE">Gerente</option>
                        <option value="DIRETOR">Diretor</option>
                        <option value="MELI">MELI</option>
                    </select>
                </div>
                <div class="form-group full-width"><label>Matrizes</label>
                    <div id="editUserMatrizesCheckbox" class="checkbox-container"><span>Carregando...</span></div>
                </div>
            </div>
            <div class="form-actions" style="justify-content:space-between;">
                <button type="button" id="btnExcluirUsuario" class="btn-cancelar"
                        style="background:#D81D1D;color:#fff;">Excluir Usu√°rio
                </button>
                <div>
                    <button type="button" class="btn-cancelar" data-close-modal="editUserModal">Cancelar</button>
                    <button type="submit" class="btn-salvar">Salvar Altera√ß√µes</button>
                </div>
            </div>
        </form>
    </div>
</div>

<div id="gestorModal"
     class="hidden fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50">
    <div class="container !h-auto !w-auto max-w-2xl">
        <h3>Registrar Novo Gestor</h3>
        <form id="gestorForm">
            <div class="form-grid" style="grid-template-columns: 1fr;">
                <div class="form-group"><label for="gestorNome">Nome Completo</label><input type="text" id="gestorNome"
                                                                                            required/></div>
                <div class="form-group"><label>Selecione as Matrizes</label>
                    <div id="gestorMatrizesCheckbox" class="checkbox-container"><span>Carregando matrizes...</span>
                    </div>
                </div>
                <div class="form-group"><label>Services Vinculados</label>
                    <div id="gestorServicesVinculados" class="services-display"><span>Selecione uma matriz para ver os services.</span>
                    </div>
                </div>
            </div>
            <div class="form-actions" style="justify-content:flex-end;">
                <button type="button" class="btn-cancelar" data-close-modal="gestorModal">Cancelar</button>
                <button type="submit" class="btn-salvar">Salvar Gestor</button>
            </div>
        </form>
    </div>
</div>

<div id="addModal" class="hidden fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50">
    <div class="container !h-auto !w-auto max-w-4xl" style="max-height: 90vh; overflow-y: auto;">
        <h3>Adicionar Novo Colaborador</h3>
        <form id="addForm">
            <div class="form-grid">
                <div class="form-group">
                    <label for="addNome">Nome Completo</label>
                    <input type="text" id="addNome" required/>
                </div>
                <div class="form-group">
                    <label for="addCPF">CPF (opcional)</label>
                    <input type="text" id="addCPF" maxlength="11"/>
                </div>
                <div class="form-group">
                    <label for="addRG">RG (Opcional)</label>
                    <input type="text" id="addRG"/>
                </div>
                <div class="form-group">
                    <label for="addPIS">PIS (Opcional)</label>
                    <input type="text" id="addPIS"/>
                </div>
                <div class="form-group">
                    <label for="addDataNascimento">Data de Nascimento (opcional)</label>
                    <input type="date" id="addDataNascimento"/>
                </div>
                <div class="form-group">
                    <label for="addGenero">G√™nero</label>
                    <select id="addGenero" required>
                        <option value="" disabled selected>Selecione...</option>
                        <option value="Masculino">Masculino</option>
                        <option value="Feminino">Feminino</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="addTelefone">Telefone</label>
                    <input type="text" id="addTelefone" placeholder="(XX) XXXXX-XXXX"/>
                </div>
                <div class="form-group">
                    <label for="addEmail">E-mail</label>
                    <input type="email" id="addEmail" placeholder="exemplo@email.com"/>
                </div>

                <div class="form-group">
                    <label for="addCEP">CEP</label>
                    <input type="text" id="addCEP" placeholder="00000-000" maxlength="9"/>
                </div>

                <div class="form-group">
                    <label for="addEndereco">Endere√ßo (Logradouro)</label>
                    <input type="text" id="addEndereco"/>
                </div>
                <div class="form-group">
                    <label for="addNumero">N√∫mero</label>
                    <input type="text" id="addNumero"/>
                </div>
                <div class="form-group">
                    <label for="addBairro">Bairro</label>
                    <input type="text" id="addBairro"/>
                </div>
                <div class="form-group">
                    <label for="addCidade">Cidade</label>
                    <input type="text" id="addCidade"/>
                </div>

                <div class="form-group">
                    <label for="addContrato">Contrato</label>
                    <select id="addContrato" required>
                        <option value="" disabled selected>Carregando...</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="addCargo">Cargo</label>
                    <select id="addCargo" required>
                        <option value="" disabled selected>Selecione...</option>
                        <option value="AUXILIAR">AUXILIAR</option>
                        <option value="CONFERENTE">CONFERENTE</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="addSVC">SVC</label>
                    <select id="addSVC" required>
                        <option value="" disabled selected>Carregando...</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="addGestor">Gestor</label>
                    <select id="addGestor" required disabled>
                        <option value="" disabled selected>Selecione um SVC primeiro...</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="addDSRBtn">DSR</label>
                    <input type="hidden" id="addDSR">
                    <input type="text" id="addDSRBtn" placeholder="CLIQUE PARA SELECIONAR AS DSR..." readonly
                           style="cursor: pointer;">
                </div>

                <div class="form-group">
                    <label for="addEscala">Escala</label>
                    <select id="addEscala" required>
                        <option value="" disabled selected>Selecione...</option>
                        <option value="T1">T1</option>
                        <option value="T2">T2</option>
                        <option value="T3">T3</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="addDataAdmissao">Data de Admiss√£o</label>
                    <input type="date" id="addDataAdmissao" required/>
                </div>
                <div class="form-group">
                    <label for="addMatriz">MATRIZ</label>
                    <input type="text" id="addMatriz" required readonly/>
                </div>

                <div class="form-group">
                    <label for="addColete">Colete</label>
                    <select id="addColete">
                        <option value="" disabled selected>Carregando...</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="addSapato">Sapato</label>
                    <select id="addSapato">
                        <option value="" disabled selected>Carregando...</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="addLDAP">LDAP (Opcional)</label>
                    <input type="text" id="addLDAP"/>
                </div>
                <div class="form-group">
                    <label for="addIdGroot">ID GROOT (Opcional)</label>
                    <input type="text" id="addIdGroot" maxlength="11"/>
                </div>
            </div>

            <div class="form-group">
                <label for="addMatriculaKN">Matr√≠cula KN</label>
                <input type="text" id="addMatriculaKN" placeholder="Digite a matr√≠cula..."/>
            </div>

            <div class="form-actions" style="justify-content:flex-end;">
                <div class="actions-right">
                    <button type="submit" class="btn-salvar">Salvar Colaborador</button>
                    <button type="button" id="cancelBtn" class="btn-cancelar">Cancelar</button>
                </div>
            </div>
        </form>
    </div>
</div>

<div id="editModal" class="hidden fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50">
    <div class="container !h-auto !w-auto max-w-4xl" style="max-height: 90vh; overflow-y: auto;">
        <h3 id="editTitulo">Editar Colaborador</h3>
        <form id="editForm">
            <div class="form-grid">
                <div class="form-group">
                    <label for="editNome">Nome</label>
                    <input id="editNome" type="text"/>
                </div>
                <div class="form-group">
                    <label for="editCPF">CPF</label>
                    <input id="editCPF" type="text" maxlength="11"/>
                </div>
                <div class="form-group">
                    <label for="editRG">RG</label>
                    <input id="editRG" type="text"/>
                </div>
                <div class="form-group">
                    <label for="editPIS">PIS</label>
                    <input id="editPIS" type="text"/>
                </div>
                <div class="form-group">
                    <label for="editDataNascimento">Data de Nascimento</label>
                    <input id="editDataNascimento" type="date"/>
                </div>

                <div class="form-group">
                    <label for="editTelefone">Telefone</label>
                    <input type="text" id="editTelefone"/>
                </div>
                <div class="form-group">
                    <label for="editEmail">E-mail</label>
                    <input type="email" id="editEmail"/>
                </div>

                <div class="form-group">
                    <label for="editCEP">CEP</label>
                    <input type="text" id="editCEP" placeholder="00000-000" maxlength="9"/>
                </div>

                <div class="form-group">
                    <label for="editEndereco">Endere√ßo</label>
                    <input type="text" id="editEndereco"/>
                </div>
                <div class="form-group">
                    <label for="editNumero">N√∫mero</label>
                    <input type="text" id="editNumero"/>
                </div>
                <div class="form-group">
                    <label for="editBairro">Bairro</label>
                    <input type="text" id="editBairro"/>
                </div>
                <div class="form-group">
                    <label for="editCidade">Cidade</label>
                    <input type="text" id="editCidade"/>
                </div>

                <div class="form-group">
                    <label for="editContrato">Contrato</label>
                    <select id="editContrato">
                        <option value="" disabled selected>Carregando...</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="editCargo">Cargo</label>
                    <select id="editCargo">
                        <option value="AUXILIAR">AUXILIAR</option>
                        <option value="CONFERENTE">CONFERENTE</option>
                        <option value="ASSISTENTE">ASSISTENTE</option>
                        <option value="LIDER">LIDER</option>
                        <option value="ANALISTA">ANALISTA</option>
                        <option value="COORDENADOR">COORDENADOR</option>
                        <option value="OPERADOR DE EMPILHADEIRA"></option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="editDSRBtn">DSR</label>
                    <input type="hidden" id="editDSR">
                    <input type="text" id="editDSRBtn" placeholder="Clique para selecionar os dias..." readonly
                           style="cursor: pointer;">
                </div>

                <div class="form-group">
                    <label for="editFolgaEspecial">Folga Especial</label>
                    <select id="editFolgaEspecial">
                        <option value="">‚Äî</option>

                        <optgroup label="Domingos">
                            <option value="1¬∫ DOMINGO">1¬∫ DOMINGO</option>
                            <option value="2¬∫ DOMINGO">2¬∫ DOMINGO</option>
                            <option value="3¬∫ DOMINGO">3¬∫ DOMINGO</option>
                            <option value="4¬∫ DOMINGO">4¬∫ DOMINGO</option>
                            <option value="5¬∫ DOMINGO">5¬∫ DOMINGO</option>
                        </optgroup>

                        <optgroup label="Segundas">
                            <option value="1¬™ SEGUNDA">1¬™ SEGUNDA</option>
                            <option value="2¬™ SEGUNDA">2¬™ SEGUNDA</option>
                            <option value="3¬™ SEGUNDA">3¬™ SEGUNDA</option>
                            <option value="4¬™ SEGUNDA">4¬™ SEGUNDA</option>
                            <option value="5¬™ SEGUNDA">5¬™ SEGUNDA</option>
                        </optgroup>

                        <optgroup label="Ter√ßas">
                            <option value="1¬™ TER√áA">1¬™ TER√áA</option>
                            <option value="2¬™ TER√áA">2¬™ TER√áA</option>
                            <option value="3¬™ TER√áA">3¬™ TER√áA</option>
                            <option value="4¬™ TER√áA">4¬™ TER√áA</option>
                            <option value="5¬™ TER√áA">5¬™ TER√áA</option>
                        </optgroup>

                        <optgroup label="Quartas">
                            <option value="1¬™ QUARTA">1¬™ QUARTA</option>
                            <option value="2¬™ QUARTA">2¬™ QUARTA</option>
                            <option value="3¬™ QUARTA">3¬™ QUARTA</option>
                            <option value="4¬™ QUARTA">4¬™ QUARTA</option>
                            <option value="5¬™ QUARTA">5¬™ QUARTA</option>
                        </optgroup>

                        <optgroup label="Quintas">
                            <option value="1¬™ QUINTA">1¬™ QUINTA</option>
                            <option value="2¬™ QUINTA">2¬™ QUINTA</option>
                            <option value="3¬™ QUINTA">3¬™ QUINTA</option>
                            <option value="4¬™ QUINTA">4¬™ QUINTA</option>
                            <option value="5¬™ QUINTA">5¬™ QUINTA</option>
                        </optgroup>

                        <optgroup label="Sextas">
                            <option value="1¬™ SEXTA">1¬™ SEXTA</option>
                            <option value="2¬™ SEXTA">2¬™ SEXTA</option>
                            <option value="3¬™ SEXTA">3¬™ SEXTA</option>
                            <option value="4¬™ SEXTA">4¬™ SEXTA</option>
                            <option value="5¬™ SEXTA">5¬™ SEXTA</option>
                        </optgroup>

                        <optgroup label="S√°bados">
                            <option value="1¬∫ S√ÅBADO">1¬∫ S√ÅBADO</option>
                            <option value="2¬∫ S√ÅBADO">2¬∫ S√ÅBADO</option>
                            <option value="3¬∫ S√ÅBADO">3¬∫ S√ÅBADO</option>
                            <option value="4¬∫ S√ÅBADO">4¬∫ S√ÅBADO</option>
                            <option value="5¬∫ S√ÅBADO">5¬∫ S√ÅBADO</option>
                        </optgroup>
                    </select>
                </div>
                <div class="form-group">
                    <label for="editEscala">Escala</label>
                    <select id="editEscala">
                        <option value="T1">T1</option>
                        <option value="T2">T2</option>
                        <option value="T3">T3</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="editSVC">SVC</label>
                    <select id="editSVC">
                        <option value="" disabled selected>Carregando...</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="editGestor">Gestor</label>
                    <select id="editGestor"></select>
                </div>

                <div class="form-group">
                    <label for="editMatriz">Matriz</label>
                    <input id="editMatriz" type="text" readonly style="background:#f3f4f6;"/>
                </div>

                <div class="form-group">
                    <label for="editRegiao">Regi√£o</label>
                    <input id="editRegiao" type="text" readonly style="background:#f3f4f6;"/>
                </div>

                <div class="form-group">
                    <label for="editDataAdmissao">Data de Admiss√£o</label>
                    <input id="editDataAdmissao" type="date"/>
                </div>

                <div class="form-group">
                    <label for="editAdmissaoKn">Admiss√£o KN</label>
                    <input id="editAdmissaoKn" type="date"/>
                </div>

                <div class="form-group">
                    <label for="editColete">Colete</label>
                    <select id="editColete">
                        <option value="" disabled selected>Carregando...</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="editSapato">Sapato</label>
                    <select id="editSapato">
                        <option value="" disabled selected>Carregando...</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="editLDAP">LDAP</label>
                    <input id="editLDAP" type="text"/>
                </div>
                <div class="form-group">
                    <label for="editIdGroot">ID GROOT</label>
                    <input id="editIdGroot" type="text"/>
                </div>
            </div>

            <div class="form-group">
                <label for="editMatriculaKN">Matr√≠cula KN</label>
                <input id="editMatriculaKN" type="text"/>
            </div>

            <div class="form-actions" style="justify-content:space-between;">
                <div class="actions-left" style="display:flex;gap:8px;">
                    <button type="button" id="editHistoricoBtn" class="btn-cancelar"
                            style="background:#2563eb;color:#fff;">Hist√≥rico
                    </button>

                    <button type="button" id="editEfetivarKnBtn" class="btn-cancelar"
                            style="background-color: #003369; color: #dbeafe;">Efetivar KN
                    </button>

                    <button type="button" id="editFeriasBtn" class="btn-cancelar"
                            style="background:#00a884;color:#fff;">F√©rias
                    </button>
                    <button type="button" id="editAfastarBtn" class="btn-cancelar"
                            style="background:#3807a8;color:#fff;">Afastar
                    </button>
                    <button type="button" id="editDesligarBtn" class="btn-cancelar"
                            style="background:#f0ad4e;color:#fff;">Desligar
                    </button>
                    <button type="button" id="editExcluirBtn" class="btn-cancelar"
                            style="background:#D81D1D;color:#fff;">Excluir
                    </button>
                </div>
                <div class="actions-right" style="display:flex;gap:8px;">
                    <button type="button" id="editCancelarBtn" class="btn-cancelar">Cancelar</button>
                    <button type="submit" id="editSalvarBtn" class="btn-salvar">Salvar Altera√ß√µes</button>
                </div>
            </div>
        </form>
    </div>
</div>

<div id="desligarModal"
     class="hidden fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50">
    <div class="container !h-auto !w-auto max-w-2xl">
        <h3>Desligar Colaborador</h3>
        <form id="desligarForm">
            <div class="form-grid">

                <div class="form-group">
                    <label>Colaborador</label>
                    <input id="desligarNome" type="text" readonly
                           style="background-color: #f3f4f6; cursor: not-allowed;"/>
                </div>

                <div class="form-group">
                    <label for="desligarData">Data de Desligamento</label>
                    <input id="desligarData" type="date" required/>
                </div>

                <div class="form-group">
                    <label for="desligarMotivo">Motivo</label>
                    <select id="desligarMotivo" required>
                        <option value="" disabled selected>Selecione...</option>
                        <option value="Abandono de emprego">Abandono de emprego</option>
                        <option value="Ato de indisciplina ou insubordina√ß√£o">Ato de indisciplina ou insubordina√ß√£o
                        </option>
                        <option value="Aus√™ncia n√£o justificada">Aus√™ncia n√£o justificada</option>
                        <option value="Corte de gastos">Corte de gastos</option>
                        <option value="Inadequa√ß√£o √† cultura da empresa">Inadequa√ß√£o √† cultura da empresa</option>
                        <option value="Mau desempenho">Mau desempenho</option>
                        <option value="Problemas de relacionamento">Problemas de relacionamento</option>
                        <option value="Reestrutura√ß√£o da empresa">Reestrutura√ß√£o da empresa</option>
                        <option value="Solicita√ß√£o do colaborador">Solicita√ß√£o do colaborador</option>
                        <option value="Substitui√ß√£o de colaborador">Substitui√ß√£o de colaborador</option>
                    </select>
                </div>

                <div id="desligarSmartoffContainer" class="form-group hidden">
                    <label for="desligarSmartoff" style="color: #b91c1c; font-weight: 700;">
                        N√∫mero Smart (Obrigat√≥rio)
                    </label>
                    <input id="desligarSmartoff" type="text" placeholder="Digite o n√∫mero do chamado..."
                           style="border-color: #b91c1c;"/>
                </div>

            </div>

            <div class="form-actions" style="justify-content:flex-end; margin-top: 16px;">
                <button type="button" id="desligarCancelarBtn" class="btn-cancelar">Cancelar</button>
                <button type="submit" class="btn-salvar">Confirmar Desligamento</button>
            </div>
        </form>
    </div>
</div>

<div id="feriasModal"
     class="hidden fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50">
    <div class="container !h-auto !w-auto max-w-2xl">
        <h3>Agendar F√©rias</h3>
        <form id="feriasForm">
            <div class="form-grid">
                <div class="form-group">
                    <label>Colaborador</label>
                    <input id="feriasNome" type="text" readonly/>
                </div>
                <div class="form-group">
                    <label for="feriasDataInicio">Data de In√≠cio</label>
                    <input id="feriasDataInicio" type="date" required/>
                </div>
                <div class="form-group">
                    <label for="feriasDataFinal">Data Final</label>
                    <input id="feriasDataFinal" type="date" required/>
                </div>
            </div>
            <div class="form-actions" style="justify-content:flex-end;">
                <button type="button" id="feriasCancelarBtn" class="btn-cancelar">Cancelar</button>
                <button type="submit" class="btn-salvar">Confirmar F√©rias</button>
            </div>
        </form>
    </div>
</div>

<div id="historicoModal"
     class="hidden fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-[60]">
    <div class="container !h-auto !w-auto max-w-5xl">
        <h3>Hist√≥rico de Presen√ßas</h3>
        <style>
            #historicoModal .hist-wrap {
                gap: 10px;
                display: flex;
                flex-direction: column;
            }

            #historicoModal .hist-header {
                display: flex;
                align-items: center;
                gap: 10px;
                flex-wrap: wrap;
            }

            #historicoModal .hist-title {
                font-weight: 700;
                color: #003369;
                font-size: 16px;
            }

            #historicoModal .hist-year {
                margin-left: auto;
                display: flex;
                align-items: center;
                gap: 8px;
            }

            #historicoModal .hist-year select {
                padding: 8px 10px;
                border: 1px solid #ddd;
                border-radius: 20px;
                background: #fff;
                font-weight: 600;
                color: #333;
                font-size: 12px;
                cursor: pointer;
                transition: transform .08s ease;
                box-shadow: 0 4px 12px rgba(0, 0, 0, .05);
            }

            #historicoModal .hist-year select:hover {
                transform: translateY(-1px);
            }

            #historicoModal .legend {
                display: flex;
                flex-wrap: wrap;
                gap: 8px 12px;
                font-size: 12px;
                align-items: center;
            }

            #historicoModal .legend .dot {
                width: 12px;
                height: 12px;
                border-radius: 3px;
                display: inline-block;
                vertical-align: -2px;
                border: 1px solid rgba(0, 0, 0, .1);
            }

            #historicoModal .lg-presenca {
                background: #22B14C;
                border-color: #22B14C;
            }

            #historicoModal .lg-falta {
                background: #e55353;
                border-color: #e55353;
            }

            #historicoModal .lg-atestado {
                background: #f0ad4e;
                border-color: #f0ad4e;
            }

            #historicoModal .lg-fe {
                background: #2ea3ff;
                border-color: #2ea3ff;
            }

            #historicoModal .lg-feriado {
                background: #c0c0c0;
                border-color: #c0c0c0;
            }

            #historicoModal .lg-susp {
                background: #242c4c;
                border-color: #242c4c;
            }

            #historicoModal .lg-dsr {
                background: #fff;
            }

            #historicoModal .year-grid {
                flex: 1;
                overflow: auto;
                border-radius: 14px;
                background: #fff;
                box-shadow: 0 6px 16px rgba(0, 0, 0, .1);
                padding: 12px;
            }

            #historicoModal .months {
                display: grid;
                grid-template-columns: repeat(4, 1fr);
                gap: 12px;
                min-width: 880px;
            }

            @media (max-width: 1100px) {
                #historicoModal .months {
                    grid-template-columns: repeat(3, 1fr);
                    min-width: 660px;
                }
            }

            @media (max-width: 820px) {
                #historicoModal .months {
                    grid-template-columns: repeat(2, 1fr);
                    min-width: 440px;
                }
            }

            #historicoModal .month-card {
                border: 1px solid #eee;
                border-radius: 12px;
                padding: 10px;
                background: #fafbff;
            }

            #historicoModal .month-title {
                font-weight: 700;
                font-size: 12px;
                color: #003369;
                letter-spacing: .5px;
                text-transform: uppercase;
                margin-bottom: 8px;
            }

            #historicoModal .dow {
                display: grid;
                grid-template-columns: repeat(7, 1fr);
                gap: 4px;
                font-size: 10px;
                color: #6b7280;
                margin-bottom: 4px;
                text-align: center;
            }

            #historicoModal .days {
                display: grid;
                grid-template-columns: repeat(7, 1fr);
                gap: 4px;
            }

            #historicoModal .day {
                height: 22px;
                border-radius: 6px;
                font-size: 10px;
                font-weight: 700;
                display: flex;
                align-items: center;
                justify-content: center;
                background: #fff;
                color: #333;
                border: 1px solid #eee;
                user-select: none;
                transition: transform .08s ease, box-shadow .12s ease, background .12s ease;
            }

            #historicoModal .day:hover {
                transform: translateY(-1px);
                box-shadow: 0 1px 6px rgba(0, 0, 0, .08);
            }

            #historicoModal .day.blank {
                background: transparent;
                border: none;
            }

            #historicoModal .st-presenca {
                background: #22B14C !important;
                border-color: #22B14C !important;
                color: #fff;
            }

            #historicoModal .st-falta {
                background: #e55353 !important;
                border-color: #e55353 !important;
                color: #fff;
            }

            #historicoModal .st-atestado {
                background: #f0ad4e !important;
                border-color: #f0ad4e !important;
                color: #fff;
            }

            #historicoModal .st-fe {
                background: #2ea3ff !important;
                border-color: #2ea3ff !important;
                color: #fff;
            }

            #historicoModal .st-feriado {
                background: #c0c0c0 !important;
                border-color: #c0c0c0 !important;
                color: #333;
            }

            #historicoModal .st-susp {
                background: #242c4c !important;
                border-color: #242c4c !important;
                color: #fff;
            }

            #historicoModal .st-dsr {
                background: #fff !important;
                border-color: #e5e7eb !important;
                color: #9ca3af;
            }
        </style>
        <div class="hist-wrap">
            <div class="hist-header">
                <div class="hist-title" id="hist-title">Hist√≥rico</div>
                <div class="legend">
                    <span><span class="dot lg-presenca"></span> Presen√ßa</span>
                    <span><span class="dot lg-falta"></span> Faltou</span>
                    <span><span class="dot lg-atestado"></span> Atestado</span>
                    <span><span class="dot lg-fe"></span> F. Especial</span>
                    <span><span class="dot lg-feriado"></span> Feriado</span>
                    <span><span class="dot lg-susp"></span> Suspenso</span>
                    <span><span class="dot lg-dsr" style="border:1px solid #e5e7eb"></span> DSR</span>
                </div>
                <div class="hist-year">
                    <label for="hist-year">Ano:</label>
                    <select id="hist-year"></select>
                </div>
            </div>
            <div class="year-grid">
                <div id="months" class="months" aria-live="polite"></div>
            </div>
            <div class="form-actions" style="justify-content:flex-end;margin-top:8px;">
                <button type="button" id="historicoFecharBtn" class="btn-cancelar">Fechar</button>
            </div>
        </div>
    </div>
</div>

<div id="fluxoEfetivacaoModal"
     class="hidden fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50">
    <div class="container !h-auto !w-auto max-w-3xl">
        <h3>Gerenciar Fluxo de Efetiva√ß√£o KN</h3>
        <form id="fluxoEfetivacaoForm">
            <div class="form-grid" style="grid-template-columns: 1fr 1fr;">
                <div class="form-group">
                    <label for="fluxoEfetivacaoNome">Colaborador</label>
                    <input type="text" id="fluxoEfetivacaoNome" readonly class="bg-gray-100">
                </div>
                <div class="form-group">
                    <label for="fluxoNumero">N√∫mero do Fluxo</label>
                    <input type="text" id="fluxoNumero" placeholder="Insira o n¬∫ do fluxo...">
                </div>
                <div class="form-group">
                    <label for="fluxoDataAbertura">Data de Abertura do Fluxo</label>
                    <input type="date" id="fluxoDataAbertura">
                </div>
                <div class="form-group">
                    <label for="fluxoAdmissaoKnData">Data de Admiss√£o KN (para finalizar)</label>
                    <input type="date" id="fluxoAdmissaoKnData">
                </div>
                <div class="form-group" style="grid-column: 1 / -1;">
                    <label for="fluxoObservacao">Observa√ß√£o</label>
                    <textarea id="fluxoObservacao" rows="3" placeholder="Documenta√ß√£o pendente, etc..."></textarea>
                </div>
            </div>

            <div class="form-actions" style="justify-content:space-between; margin-top: 16px;">
                <div class="actions-left">
                    <button type="button" id="fluxoCancelarBtn" class="btn-cancelar"
                            style="background:#D81D1D; color:#fff;">Cancelar Fluxo
                    </button>
                </div>
                <div class="actions-right" style="display:flex; gap:8px;">
                    <button type="button" id="fluxoCancelarEfetivacaoBtn" class="btn-cancelar">Sair (Sem Salvar)
                    </button>
                    <button type="button" id="fluxoGerarBtn" class="btn-salvar"
                            style="background-color: #003369; color: #dbeafe;">Gerar Fluxo
                    </button>
                    <button type="button" id="fluxoFinalizarBtn" class="btn-salvar">Finalizar Fluxo</button>
                </div>
            </div>
        </form>
    </div>
</div>

<div id="modalListaRH" class="hidden diarist-modal">
    <div class="modal-card">

        <h3>
            <span>Candidatos Aprovados (RH)</span>
            <button id="fecharModalRH"
                    style="background:none; border:none; cursor:pointer; font-size:20px; color:#999;">&times;
            </button>
        </h3>

        <div id="rh-toolbar">
            <div style="flex: 1; min-width: 200px;">
                <label>Buscar (Nome ou CPF)</label>
                <input type="text" id="filterRhSearch" placeholder="DIGITE PARA BUSCAR...">
            </div>
            <div style="width: 140px;">
                <label>Matriz</label>
                <select id="filterRhMatriz"></select>
            </div>
            <div style="width: 140px;">
                <label>Cargo</label>
                <select id="filterRhCargo"></select>
            </div>
            <div>
                <button id="btnToggleFutureDates">
                    <span id="lblDateMode">üìÖ Vencidas/Hoje</span>
                    <span id="countRhBadges">0</span>
                </button>
            </div>
        </div>

        <div class="rh-table-wrapper">
            <table>
                <thead>
                <tr>
                    <th>Nome Completo</th>
                    <th>CPF</th>
                    <th>Cargo (Vaga)</th>
                    <th>Matriz</th>
                    <th>Gestor</th>
                    <th>In√≠cio</th>
                    <th>SLA</th>
                    <th>A√ß√£o</th>
                </tr>
                </thead>
                <tbody id="tbodyCandidatosRH">
                </tbody>
            </table>
        </div>

        <div style="margin-top: 10px; font-size: 12px; color: #666; display: flex; align-items: center; gap: 6px;">
            <span style="color:#02B1EE; font-size: 16px;">‚ÑπÔ∏è</span>
            D√™ <strong>dois cliques</strong> sobre o candidato para importar os dados para a ficha de cadastro.
        </div>

    </div>
</div>

<div id="dsrModal" class="hidden fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50">
    <div class="container !h-auto !w-auto max-w-lg">
        <h3>Selecione os Dias de DSR</h3>

        <style>
            .checkbox-container-dsr {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 12px;
                padding: 10px;
                background-color: #f6f9ff;
                border-radius: 10px;
                border: 2px solid #e8ecf3;
            }

            .checkbox-container-dsr label {
                display: flex;
                align-items: center;
                gap: 8px;
                cursor: pointer;
                padding: 8px;
                border-radius: 8px;
                transition: background-color 0.2s ease;
            }

            .checkbox-container-dsr label:hover {
                background-color: #e8ecf3;
            }

            .checkbox-container-dsr input[type="checkbox"] {
                width: 18px;
                height: 18px;
                accent-color: #003369;
            }

            .checkbox-container-dsr span {
                font-size: 13px;
                font-weight: 600;
                color: #242c4c;
            }
        </style>

        <div class="form-group" style="margin-bottom: 20px;">
            <label>Dias da semana</label>
            <div id="dsrCheckboxesContainer" class="checkbox-container-dsr">
            </div>
        </div>

        <div class="form-actions">
            <button id="dsrCancelarBtn" type="button" class="btn-cancelar">Cancelar</button>
            <button id="dsrOkBtn" type="button" class="btn-salvar">OK</button>
        </div>
    </div>
</div>

<div id="kn-global-dialog"
     class="hidden fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-[99999]">
    <div class="bg-white w-full max-w-md rounded-xl shadow-2xl border border-gray-200 overflow-hidden transform transition-all scale-100">

        <div class="p-4 border-b border-gray-100 flex items-center gap-3 bg-gray-50">
            <div id="kn-dialog-icon-container">
            </div>
            <h3 id="kn-dialog-title" class="text-lg font-bold text-[#003369] m-0">Aviso</h3>
        </div>

        <div class="p-6">
            <p id="kn-dialog-message" class="text-gray-700 text-sm font-medium leading-relaxed"></p>
        </div>

        <div class="p-4 border-t border-gray-100 bg-gray-50 flex justify-end gap-3">
            <button id="kn-dialog-btn-cancel"
                    class="hidden px-4 py-2 rounded border border-gray-300 text-gray-700 font-semibold hover:bg-gray-200 transition-colors text-xs uppercase">
                Cancelar
            </button>
            <button id="kn-dialog-btn-confirm"
                    class="px-6 py-2 rounded text-white font-bold shadow-md transition-all text-xs uppercase bg-[#003369] hover:bg-[#02B1EE]">
                OK
            </button>
        </div>
    </div>
</div>

<div id="sidebar-overlay"></div>

<script type="module" src="/dashboard.js"></script>
</body>
</html>